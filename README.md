# FieryLedLamp

# Версия FieryLedLamp v3.5_new_web 115 эффектов
  - Добавлен режим восстановления настроек по умолчанию по пятнадцатикратному нажатию кнопки (даже если она заблокирована). Этот режим сбрасывает сохраняемые настройки в файле config.json.
  - Добавлена кнопка сброса настроек по умолчанию в web интерфейсе на страницы Начальных настроек. Но нажатие на эту кнопку сбрасывает все настройки, включая настройки озвучивания эффектов, настройки эффектов для цикла, настройки управления несколькими лампами и параметры оборудования (т.е. совсем все настройки).
  - Изменение библиотеки "TM1637Display" для часов с точками после каждого сегмента (мигание точки только в центре).
  - Переделал последовательность отключения лампы (Уменьшил вероятность повреждения файлов, хранящихся при выключении лампы).
  - Поправил определение лампой "день/ночь".
  - Удалил эффект "Бегущая строка". Отныне Бегущая строка выводится поверх эффектов. Включается режим чекбоксом в веб-интерфейсе на странице "Настройки пользователя".
  - Фон текста (пространство между буквами) может быть цветным или черным (чекбокс). Там же настраивается цвет текста и скорость вывода.
  - Изменился эффект "Цвет". Если включена "Бегущая строка" и "Масштаб/Цвет" < 3, то текст будет бежать на черном экране (как раньше).
  - Добавлены пать новых эффектов новых эффекта: "Торнадо", "Капли на воде", "Цветовой питон", "Осьминог" и "Плазменные волны" от @Stepko и @SlingMaster.
  - Исправлена ​​ошибка в взаимодействии нескольких ламп, а также другие мелкие ошибки.

# Внимание!!! ИЗМЕНЕНО ПОДКЛЮЧЕНИЕ КНОПКИ И МАТРИЦЫ!!! По умолчанию матрица в этой прошивке подключается на D3. Кнопка питается от 3.3 вольта.
# Внимательно смотрите схему подключения. Или в файле constant.h измените #define LED_PIN (0U) на #define LED_PIN (2U).

Распакуйте содержимое архива в корневую папку на диске (не на рабочий стол, пожалуйста)
и делайте всё так же, как показал Алекс Гайвер в своём видео https://youtu.be/771-Okf0dYs?t=525. Отличие от видео - матрицу подключаем к D3 и кнопку питаем от 3,3 вольта.
В архиве есть файл "ПРОЧТИ МЕНЯ!!.doc. Его нужно внимательно прочитать. Для загрузки файлов из папки data в файловую систему контролера нужно установить Uploader. Видео https://esp8266-arduinoide.ru/esp8266fs/
Версию платы в "Менеджере плат" выбирайте 2.7.4. При первом запуске лампа создаст свою WiFi сеть с именем Led Lamp WEB, пароль у этой сети при первом запуске будет 12341234. После подключения к сети Led Lamp WEB наберите в браузере 192.168.4.1 и зайдите на web страницу лампы. Там можно изменить имя лампы (если их несколько в сети), навтроить подключение к Вашей домашней WiFi сети часовой пояс и переход на летнее время. Так же можно сменить пароль точки доступа (рекомендуется) и имя точки доступа. Перезагрузить лампу.
Все настройки прошивки находятся на вкладке Constants.h (там по-русски, без проблем разберётесь) и в файле data/config.json (там можно ничего не менять, всё меняется потом с web страницы лампы). Другие настройки можно выполнить на странице лампы.

Тем, у кого лампа уже собрана и нет возможности (или сложно) добраться до разъёма для перепрошивки, можно прошиться по WEB. Для этого нужно использовать WEB_Updater.  В папке есть файл Readme.txt. Внимательно его прочитайте

В данной прошивке режим работы ESP_MODE 1 (с роутером) или ESP_MODE 0 (без (точка доступа)) .
В любой момент его можно будет поменять, либо он сам изменится.

Обсуждение исходного и этого проектов тут: https://community.alexgyver.ru/threads/wifi-lampa-budilnik-obsuzhdenie-proshivki-fieryledlamp-ot-alvikskor.7223/page-17
